## рдЖрдк рдХреНрдпрд╛ рд╕реАрдЦреЗрдВрдЧреЗ

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк рдХрд░реЗрдВрдЧреЗ:

- рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрд╡рд░ рдХреЛ рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рдПрдЬреЗрдВрдЯ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╕реБрд▓рдн рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП DevTunnel рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛
- Model Context Protocol рдХреЗ рд╕рд╛рде рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдкреНрд░рдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗрдЯ рдЕрдк рдХрд░рдирд╛

## рдкрд░рд┐рдЪрдп

Model Context Protocol (MCP) рд╕рд░реНрд╡рд░ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдХ рд╣реИ рдЬреЛ Large Language Models (LLMs) рдФрд░ рдмрд╛рд╣рд░реА рдЯреВрд▓реНрд╕ рдФрд░ рдбреЗрдЯрд╛ рд╕реНрд░реЛрддреЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред рдЖрдк MCP рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдкрдиреА рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдЪрд▓рд╛рдПрдВрдЧреЗ, рд▓реЗрдХрд┐рди Azure AI Foundry Agent Service рдХреЛ рдЗрд╕рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдиреЗрдЯ рдПрдХреНрд╕реЗрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрд╡рд░ рдХреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рд╕реБрд▓рдн рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк DevTunnel рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред рдпрд╣ Agent Service рдХреЛ рдЖрдкрдХреЗ MCP рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ Azure рдореЗрдВ рдПрдХ рд╕реЗрд╡рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реЛред

## MCP рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдлреЗрд╕ рд╡рд┐рдХрд▓реНрдк

MCP рдЯреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде LLMs рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдореБрдЦреНрдп рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ:

- **Streamable HTTP Transport**: рд╡реЗрдм-рдЖрдзрд╛рд░рд┐рдд APIs рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдПред
- **Stdio Transport**: рд╕реНрдерд╛рдиреАрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рдЯреВрд▓реНрд╕ рдХреЗ рд▓рд┐рдПред

рдпрд╣ рд▓реИрдм Azure AI Foundry Agent Service рдХреЗ рд╕рд╛рде рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Streamable HTTP transport рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИред

!!! note
    рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдЖрдк MCP рд╕рд░реНрд╡рд░ рдХреЛ рдкреНрд░реЛрдбрдХреНрд╢рди рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рддреИрдирд╛рдд рдХрд░реЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЗрд╕ рдХрд╛рд░реНрдпрд╢рд╛рд▓рд╛ рдХреЗ рд▓рд┐рдП, рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреЗ рд╡рд┐рдХрд╛рд╕ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдЪрд▓рд╛рдПрдВрдЧреЗред рдпрд╣ рдЖрдкрдХреЛ рдкреВрд░реНрдг рддреИрдирд╛рддреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛ MCP рдЯреВрд▓реНрд╕ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдФрд░ рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

### MCP Server рдХреЗ рд▓рд┐рдП DevTunnel рд╢реБрд░реВ рдХрд░рдирд╛

1. рдПрдХ рдирдП рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ, DevTunnel рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░реЗрдВред рдЖрдкрдХреЛ рдЕрдкрдиреЗ Azure рдЦрд╛рддреЗ рд╕реЗ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рдПрдЧрд╛, рд╡рд╣реА рдЦрд╛рддрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдкрдиреЗ Azure AI Foundry Agent Service рдпрд╛ Azure Portal рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдерд╛ред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ:

    ```bash
    devtunnel login
    ```

1. рдЗрд╕рдХреЗ рдмрд╛рдж, рдЙрд╕ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ рдЬрд╣рд╛рдВ MCP рд╕рд░реНрд╡рд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд▓рд╛рдХрд░ DevTunnel рд╢реБрд░реВ рдХрд░реЗрдВ:

    ```bash
    devtunnel host -p 8000 --allow-anonymous
    ```

    рдпрд╣ рдПрдХ URL рдЖрдЙрдЯрдкреБрдЯ рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕рдХреА рдЖрдкрдХреЛ рдПрдЬреЗрдВрдЯ рдХреЛ MCP рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдЙрдЯрдкреБрдЯ рдХреБрдЫ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реЛрдЧрд╛:

    ```text
    Hosting port: 8000
    Connect via browser: https://<tunnel-id>-8000.aue.devtunnels.ms
    Inspect network activity: https://<tunnel-id>-8000-inspect.aue.devtunnels.ms
    ```

## DevTunnel Environment Variable рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛

1. **Connect via browser** URL рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдкрд░ рдХреЙрдкреА рдХрд░реЗрдВ - рдЖрдкрдХреЛ рдЗрд╕рдХреА рдЕрдЧрд▓реА рд▓реИрдм рдореЗрдВ рдПрдЬреЗрдВрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред
2. рдХрд╛рд░реНрдпрд╢рд╛рд▓рд╛ рдлреЛрд▓реНрдбрд░ рдореЗрдВ `.env` рдлрд╛рдЗрд▓ рдЦреЛрд▓реЗрдВред
3. рдХреЙрдкреА рдХрд┐рдП рдЧрдП URL рдХреЗ рд╕рд╛рде `DEV_TUNNEL_URL` рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред

    ```text
    DEV_TUNNEL_URL=https://<tunnel-id>-8000.aue.devtunnels.ms
    ```

## Agent App рд╢реБрд░реВ рдХрд░рдирд╛

1. рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдкрд░ рдХреЙрдкреА рдХрд░реЗрдВ:

    ```text
    Debug: Select and Start Debugging
    ```

2. VS Code Command Palette рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП <kbd>F1</kbd> рджрдмрд╛рдПрдВред
3. Command Palette рдореЗрдВ рдЯреЗрдХреНрд╕реНрдЯ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ рдФрд░ **Debug: Select and Start Debugging** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред
4. рд╕реВрдЪреА рд╕реЗ **ЁЯМОЁЯдЦDebug Compound: Agent and MCP (http)** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред рдпрд╣ рдПрдЬреЗрдВрдЯ рдРрдк рдФрд░ рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ред

## Agent рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░рдирд╛

рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ **Web Chat** рдЯреИрдм рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВред рдЖрдкрдХреЛ рдПрдЬреЗрдВрдЯ рдРрдк рдЪрд▓рддрд╛ рд╣реБрдЖ рдФрд░ рд╕рд╡рд╛рд▓реЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред

### DevTunnel рдХреЗ рд╕рд╛рде рдбрд┐рдмрдЧрд┐рдВрдЧ

рдЖрдк MCP рд╕рд░реНрд╡рд░ рдФрд░ рдПрдЬреЗрдВрдЯ рдРрдк рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП DevTunnel рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдЖрдкрдХреЛ рдиреЗрдЯрд╡рд░реНрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдФрд░ рд░реАрдпрд▓-рдЯрд╛рдЗрдо рдореЗрдВ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдирд┐рд╡рд╛рд░рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

1. DevTunnel рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ **Inspect network activity** URL рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред
2. рдпрд╣ рдЖрдкрдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдПрдХ рдирдпрд╛ рдЯреИрдм рдЦреЛрд▓реЗрдЧрд╛ рдЬрд╣рд╛рдВ рдЖрдк MCP рд╕рд░реНрд╡рд░ рдФрд░ рдПрдЬреЗрдВрдЯ рдРрдк рдХреА рдиреЗрдЯрд╡рд░реНрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред
3. рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд╛рд░реНрдпрд╢рд╛рд▓рд╛ рдХреЗ рджреМрд░рд╛рди рдЙрддреНрдкрдиреНрди рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдХрд┐рд╕реА рднреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП MCP рд╕рд░реНрд╡рд░ рдХреЛрдб рдФрд░ рдПрдЬреЗрдВрдЯ рдРрдк рдХреЛрдб рдореЗрдВ рдмреНрд░реЗрдХрдкреЙрдЗрдВрдЯ рднреА рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:

1. `mcp_server` рдлреЛрд▓реНрдбрд░ рдореЗрдВ `sales_analysis.py` рдлрд╛рдЗрд▓ рдЦреЛрд▓реЗрдВред
2. рдЙрд╕ рд▓рд╛рдЗрди рдирдВрдмрд░ рдХреЗ рдмрдЧрд▓ рдореЗрдВ рдЧрдЯрд░ рдореЗрдВ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдмреНрд░реЗрдХрдкреЙрдЗрдВрдЯ рд╕реЗрдЯ рдХрд░реЗрдВ рдЬрд╣рд╛рдВ рдЖрдк рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рд░реЛрдХрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред
3. рдЬрдм рдирд┐рд╖реНрдкрд╛рджрди рдмреНрд░реЗрдХрдкреЙрдЗрдВрдЯ рддрдХ рдкрд╣реБрдВрдЪрддрд╛ рд╣реИ, рддреЛ рдЖрдк рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреЛрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХрджрдо рдЙрдард╛ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ Debug Console рдореЗрдВ expressions рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

*GitHub Copilot рдФрд░ GPT-4o рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рддред*
