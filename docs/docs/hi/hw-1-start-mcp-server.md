## рдЖрдк рдХреНрдпрд╛ рд╕реАрдЦреЗрдВрдЧреЗ

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк:

- рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрд╡рд░ рдХреЛ рдХреНрд▓рд╛рдЙрдб-рдЖрдзрд╛рд░рд┐рдд рдПрдЬреЗрдВрдЯ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдкрд╣реБрдВрдЪ рдпреЛрдЧреНрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП DevTunnel рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ
- Model Context Protocol рдХреЗ рд╕рд╛рде рд╣реИрдВрдбреНрд╕-рдСрди рдкреНрд░рдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЕрдкрдирд╛ рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗрдЯ рдЕрдк рдХрд░реЗрдВрдЧреЗ

## рдкрд░рд┐рдЪрдп

Model Context Protocol (MCP) рд╕рд░реНрд╡рд░ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдХ рд╣реИ рдЬреЛ Large Language Models (LLMs) рдФрд░ рдмрд╛рд╣рд░реА рдЯреВрд▓реНрд╕ рдФрд░ рдбреЗрдЯрд╛ рд╕реНрд░реЛрддреЛрдВ рдХреЗ рдмреАрдЪ рд╕рдВрдЪрд╛рд░ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред рдЖрдк MCP рд╕рд░реНрд╡рд░ рдХреЛ рдЕрдкрдиреА рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдЪрд▓рд╛рдПрдВрдЧреЗ, рд▓реЗрдХрд┐рди Azure AI Foundry Agent Service рдХреЛ рдЗрд╕рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдиреЗрдЯ рдПрдХреНрд╕реЗрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп MCP рд╕рд░реНрд╡рд░ рдХреЛ рдЗрдВрдЯрд░рдиреЗрдЯ рд╕реЗ рдкрд╣реБрдВрдЪ рдпреЛрдЧреНрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк DevTunnel рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред рдпрд╣ Agent Service рдХреЛ рдЖрдкрдХреЗ MCP рд╕рд░реНрд╡рд░ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬреИрд╕реЗ рдХрд┐ рдпрд╣ Azure рдореЗрдВ рдПрдХ рд╕реЗрд╡рд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд▓ рд░рд╣рд╛ рд╣реЛред

## MCP рдХреЗ рд▓рд┐рдП рдЗрдВрдЯрд░рдлреЗрд╕ рд╡рд┐рдХрд▓реНрдк

MCP LLMs рдХреЛ рдЯреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдореБрдЦреНрдп рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ:

- **Streamable HTTP Transport**: рд╡реЗрдм-рдЖрдзрд╛рд░рд┐рдд APIs рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреЗ рд▓рд┐рдПред
- **Stdio Transport**: рд╕реНрдерд╛рдиреАрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯреНрд╕ рдФрд░ рдХрдорд╛рдВрдб-рд▓рд╛рдЗрди рдЯреВрд▓реНрд╕ рдХреЗ рд▓рд┐рдПред

рдпрд╣ рд▓реИрдм Azure AI Foundry Agent Service рдХреЗ рд╕рд╛рде рдЗрдВрдЯреАрдЧреНрд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Streamable HTTP transport рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИред

!!! note
    рдЖрдо рддреМрд░ рдкрд░, рдЖрдк рдЙрддреНрдкрд╛рджрди рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ MCP рд╕рд░реНрд╡рд░ рдХреЛ рддреИрдирд╛рдд рдХрд░реЗрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЗрд╕ рд╡рд░реНрдХрд╢реЙрдк рдХреЗ рд▓рд┐рдП, рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреЗ рдбреЗрд╡рд▓рдкрдореЗрдВрдЯ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдЪрд▓рд╛рдПрдВрдЧреЗред рдпрд╣ рдЖрдкрдХреЛ рдкреВрд░реНрдг рддреИрдирд╛рддреА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЗ рдмрд┐рдирд╛ MCP рдЯреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде рдкрд░реАрдХреНрд╖рдг рдФрд░ рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

### MCP Server рдХреЗ рд▓рд┐рдП DevTunnel рд╢реБрд░реВ рдХрд░рдирд╛

1. рдПрдХ рдирдП рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ, DevTunnel рдХреЛ рдкреНрд░рдорд╛рдгрд┐рдд рдХрд░реЗрдВред рдЖрдкрдХреЛ рдЕрдкрдиреЗ Azure рдЕрдХрд╛рдЙрдВрдЯ рд╕реЗ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣рд╛ рдЬрд╛рдПрдЧрд╛, рдЙрд╕реА рдЕрдХрд╛рдЙрдВрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдкрдиреЗ Azure AI Foundry Agent Service рдпрд╛ Azure Portal рдореЗрдВ рд▓реЙрдЧ рдЗрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдерд╛ред рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдВ:

    ```bash
    devtunnel login
    ```

1. рдЗрд╕рдХреЗ рдмрд╛рдж, рдЬрд┐рд╕ рдЯрд░реНрдорд┐рдирд▓ рдореЗрдВ MCP рд╕рд░реНрд╡рд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИ, рдЙрд╕рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд▓рд╛рдХрд░ DevTunnel рд╢реБрд░реВ рдХрд░реЗрдВ:

    ```bash
    devtunnel host -p 8000 --allow-anonymous
    ```

    рдпрд╣ рдПрдХ URL рдЖрдЙрдЯрдкреБрдЯ рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕рдХреА рдЖрдкрдХреЛ рдПрдЬреЗрдВрдЯ рдХреЛ MCP рд╕рд░реНрд╡рд░ рд╕реЗ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред рдЖрдЙрдЯрдкреБрдЯ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реЛрдЧрд╛:

    ```text
    Hosting port: 8000
    Connect via browser: https://<tunnel-id>-8000.aue.devtunnels.ms
    Inspect network activity: https://<tunnel-id>-8000-inspect.aue.devtunnels.ms
    ```

## DevTunnel Environment Variable рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛

1. **Connect via browser** URL рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ - рдПрдЬреЗрдВрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЧрд▓реА рд▓реИрдм рдореЗрдВ рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред
2. workshop рдлреЛрд▓реНрдбрд░ рдореЗрдВ `.env` рдлрд╛рдЗрд▓ рдЦреЛрд▓реЗрдВред
3. рдХреЙрдкреА рдХрд┐рдП рдЧрдП URL рдХреЗ рд╕рд╛рде `DEV_TUNNEL_URL` рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░реЗрдВред

    ```text
    DEV_TUNNEL_URL=https://<tunnel-id>-8000.aue.devtunnels.ms
    ```

## Agent App рд╢реБрд░реВ рдХрд░рдирд╛

1. рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ:

    ```text
    Debug: Select and Start Debugging
    ```

2. VS Code Command Palette рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП <kbd>F1</kbd> рджрдмрд╛рдПрдВред
3. рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ Command Palette рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ рдФрд░ **Debug: Select and Start Debugging** рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВред
4. рд╕реВрдЪреА рд╕реЗ **ЁЯМОЁЯдЦDebug Compound: Agent and MCP (http)** рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВред рдпрд╣ рдПрдЬреЗрдВрдЯ рдРрдк рдФрд░ рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ред

## Agent рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░рдирд╛

рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ **Web Chat** рдЯреИрдм рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВред рдЖрдкрдХреЛ рдПрдЬреЗрдВрдЯ рдРрдк рдЪрд▓рддреЗ рд╣реБрдП рдФрд░ рдкреНрд░рд╢реНрди рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред

### DevTunnel рдХреЗ рд╕рд╛рде рдбрд┐рдмрдЧрд┐рдВрдЧ

рдЖрдк MCP рд╕рд░реНрд╡рд░ рдФрд░ рдПрдЬреЗрдВрдЯ рдРрдк рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП DevTunnel рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдЖрдкрдХреЛ рдиреЗрдЯрд╡рд░реНрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдФрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рдирд┐рд╡рд╛рд░рдг рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред

1. DevTunnel рдЖрдЙрдЯрдкреБрдЯ рд╕реЗ **Inspect network activity** URL рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВред
2. рдпрд╣ рдЖрдкрдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдПрдХ рдирдпрд╛ рдЯреИрдм рдЦреЛрд▓реЗрдЧрд╛ рдЬрд╣рд╛рдВ рдЖрдк MCP рд╕рд░реНрд╡рд░ рдФрд░ рдПрдЬреЗрдВрдЯ рдРрдк рдХреА рдиреЗрдЯрд╡рд░реНрдХ рдЧрддрд┐рд╡рд┐рдзрд┐ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред
3. рдЖрдк рд╡рд░реНрдХрд╢реЙрдк рдХреЗ рджреМрд░рд╛рди рдЖрдиреЗ рд╡рд╛рд▓реА рдХрд┐рд╕реА рднреА рд╕рдорд╕реНрдпрд╛ рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

рдЖрдк рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рдбрд┐рдмрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП MCP рд╕рд░реНрд╡рд░ рдХреЛрдб рдФрд░ рдПрдЬреЗрдВрдЯ рдРрдк рдХреЛрдб рдореЗрдВ рдмреНрд░реЗрдХрдкреЙрдЗрдВрдЯреНрд╕ рднреА рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП:

1. `mcp_server` рдлреЛрд▓реНрдбрд░ рдореЗрдВ `sales_analysis.py` рдлрд╛рдЗрд▓ рдЦреЛрд▓реЗрдВред
2. рд▓рд╛рдЗрди рдирдВрдмрд░ рдХреЗ рдмрдЧрд▓ рдореЗрдВ рдЧрдЯрд░ рдореЗрдВ рдХреНрд▓рд┐рдХ рдХрд░рдХреЗ рдмреНрд░реЗрдХрдкреЙрдЗрдВрдЯ рд╕реЗрдЯ рдХрд░реЗрдВ рдЬрд╣рд╛рдВ рдЖрдк execution рдХреЛ рд░реЛрдХрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред
3. рдЬрдм execution рдмреНрд░реЗрдХрдкреЙрдЗрдВрдЯ рдкрд░ рдкрд╣реБрдВрдЪреЗ, рддреЛ рдЖрдк рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдХрд╛ рдирд┐рд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХреЛрдб рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдЯреЗрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ Debug Console рдореЗрдВ expressions рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

*GitHub Copilot рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рддред*
