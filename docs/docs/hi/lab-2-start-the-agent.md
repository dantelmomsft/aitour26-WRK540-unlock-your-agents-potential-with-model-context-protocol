## рдЖрдк рдХреНрдпрд╛ рд╕реАрдЦреЗрдВрдЧреЗ

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк рдмрд┐рдХреНрд░реА рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдФрд░ рдкреНрд░рд╛рдХреГрддрд┐рдХ рднрд╛рд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪрд╛рд░реНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП Code Interpreter рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВрдЧреЗред

## рдкрд░рд┐рдЪрдп

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк Azure AI Agent рдХреЛ рджреЛ рдЯреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░реЗрдВрдЧреЗ:

- **Code Interpreter:** рдПрдЬреЗрдВрдЯ рдХреЛ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдФрд░ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рд▓рд┐рдП Python рдХреЛрдб рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдФрд░ рдЪрд▓рд╛рдиреЗ рджреЗрддрд╛ рд╣реИред
- **MCP Server tools:** рдПрдЬреЗрдВрдЯ рдХреЛ MCP Tools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рд╣рд░реА рдбреЗрдЯрд╛ рд╕реНрд░реЛрддреЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ PostgreSQL рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдбреЗрдЯрд╛ред

## рд▓реИрдм рдЕрднреНрдпрд╛рд╕

### Code Interpreter рд╕рдХреНрд╖рдо рдХрд░рдирд╛

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк Zava рдХреЗ рд░рд┐рдЯреЗрд▓ рдмрд┐рдХреНрд░реА рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП LLM рджреНрд╡рд╛рд░рд╛ рдЬреЗрдирд░реЗрдЯ рдХрд┐рдП рдЧрдП Python рдХреЛрдб рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Code Interpreter рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВрдЧреЗред

=== "Python"

    1. `app.py` **рдЦреЛрд▓реЗрдВ**ред
    2. `AgentManager` рдХреНрд▓рд╛рд╕ рдХреА `_setup_agent_tools` method рдореЗрдВ рдПрдЬреЗрдВрдЯ рдХреЗ toolset рдореЗрдВ Code Interpreter tool рдЬреЛрдбрд╝рдиреЗ рд╡рд╛рд▓реА рд▓рд╛рдЗрди рдХреЛ **рдЕрдирдХрдореЗрдВрдЯ** рдХрд░реЗрдВред рдпрд╣ рд▓рд╛рдЗрди рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╢реБрд░реБрдЖрдд рдореЗрдВ `#` рдХреЗ рд╕рд╛рде commented out рд╣реИред:

        ```python
        # code_interpreter = CodeInterpreterTool()
        # self.toolset.add(code_interpreter)
        ```

    3. `app.py` рдлрд╛рдЗрд▓ рдореЗрдВ рдХреЛрдб рдХреА **рд╕рдореАрдХреНрд╖рд╛** рдХрд░реЗрдВред рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ Code Interpreter рдФрд░ MCP Server tools `AgentManager` рдХреНрд▓рд╛рд╕ рдХреА `_setup_agent_tools` method рдореЗрдВ рдПрдЬреЗрдВрдЯ рдХреЗ toolset рдореЗрдВ рдЬреЛрдбрд╝реЗ рдЧрдП рд╣реИрдВред

        ```python

        рдЕрдирдХрдореЗрдВрдЯ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдкрдХрд╛ рдХреЛрдб рдЗрд╕ рдкреНрд░рдХрд╛рд░ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:

        ```python
        class AgentManager:
            """Manages Azure AI Agent lifecycle and dependencies."""

            async def _setup_agent_tools(self) -> None:
                """Setup MCP tools and code interpreter."""

                # Enable the code interpreter tool
                code_interpreter = CodeInterpreterTool()
                self.toolset.add(code_interpreter)

                print("Setting up Agent tools...")
                ...
        ```

=== "C#"

    TBD

## Agent App рд╢реБрд░реВ рдХрд░рдирд╛

1. рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдкрд░ рдХреЙрдкреА рдХрд░реЗрдВ:

    ```text
    Debug: Select and Start Debugging
    ```

2. VS Code Command Palette рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП <kbd>F1</kbd> рджрдмрд╛рдПрдВред
3. Command Palette рдореЗрдВ рдЯреЗрдХреНрд╕реНрдЯ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ рдФрд░ **Debug: Select and Start Debugging** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред
4. рд╕реВрдЪреА рд╕реЗ **ЁЯФБЁЯдЦDebug Compound: Agent and MCP (stdio)** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред рдпрд╣ рдПрдЬреЗрдВрдЯ рдРрдк рдФрд░ рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ред

## Agent Web Chat Client рдЦреЛрд▓рдирд╛

1. рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдкрд░ рдХреЙрдкреА рдХрд░реЗрдВ:

    ```text
    Open Port in Browser
    ```

2. VS Code Command Palette рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП <kbd>F1</kbd> рджрдмрд╛рдПрдВред
3. Command Palette рдореЗрдВ рдЯреЗрдХреНрд╕реНрдЯ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ рдФрд░ **Open Port in Browser** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред
4. рд╕реВрдЪреА рд╕реЗ **8005** рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред рдпрд╣ рдЖрдкрдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдПрдЬреЗрдВрдЯ рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рдЦреЛрд▓реЗрдЧрд╛ред

### Agent рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░рдирд╛

рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ, рдЖрдк рдПрдЬреЗрдВрдЯ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдЬреЗрдВрдЯ Zava рдХреЗ рдмрд┐рдХреНрд░реА рдбреЗрдЯрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рд╡рд╛рд▓реЛрдВ рдХреЗ рдЬрд╡рд╛рдм рджреЗрдиреЗ рдФрд░ Code Interpreter рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

1. рдЙрддреНрдкрд╛рдж рдмрд┐рдХреНрд░реА рд╡рд┐рд╢реНрд▓реЗрд╖рдгред рдЪреИрдЯ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╢реНрди рдХреЛ рдХреЙрдкреА рдФрд░ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ:

    ```text
    Show the top 10 products by revenue by store for the last quarter
    ```

    рдПрдХ рдХреНрд╖рдг рдмрд╛рдж, рдПрдЬреЗрдВрдЯ рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдЯреЛрд░ рдХреЗ рд▓рд┐рдП рд░рд╛рдЬрд╕реНрд╡ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╢реАрд░реНрд╖ 10 рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рджрд┐рдЦрд╛рдиреЗ рд╡рд╛рд▓реА рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рд╕рд╛рдж рджреЗрдЧрд╛ред

    !!! info
        рдПрдЬреЗрдВрдЯ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдФрд░ рдЗрд╕реЗ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП LLM рддреАрди MCP Server tools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ:

           1. **get_current_utc_date()**: рд╡рд░реНрддрдорд╛рди рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдЬреЗрдВрдЯ рд╡рд░реНрддрдорд╛рди рджрд┐рдирд╛рдВрдХ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдкрд┐рдЫрд▓реА рддрд┐рдорд╛рд╣реА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХреЗред
           2. **get_multiple_table_schemas()**: LLM рджреНрд╡рд╛рд░рд╛ рд╡реИрдз SQL рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рддрд╛рд▓рд┐рдХрд╛рдУрдВ рдХреЗ рд╕реНрдХреАрдорд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИред
           3. **execute_sales_query**: PostgreSQL рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдкрд┐рдЫрд▓реА рддрд┐рдорд╛рд╣реА рдХреЗ рд▓рд┐рдП рд░рд╛рдЬрд╕реНрд╡ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╢реАрд░реНрд╖ 10 рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП SQL рдХреНрд╡реЗрд░реА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИред

2. рдкрд╛рдИ рдЪрд╛рд░реНрдЯ рдЬреЗрдирд░реЗрдЯ рдХрд░рдирд╛ред рдЪреИрдЯ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╢реНрди рдХреЛ рдХреЙрдкреА рдФрд░ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ:

    ```text
    Show sales by store as a pie chart for this financial year
    ```

    рдПрдЬреЗрдВрдЯ рд╡рд░реНрддрдорд╛рди рд╡рд┐рддреНрддреАрдп рд╡рд░реНрд╖ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдмрд┐рдХреНрд░реА рд╡рд┐рддрд░рдг рджрд┐рдЦрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкрд╛рдИ рдЪрд╛рд░реНрдЯ рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рд╕рд╛рдж рджреЗрдЧрд╛ред

    !!! info
        рдпрд╣ рдЬрд╛рджреВ рдЬреИрд╕рд╛ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрджреЗ рдХреЗ рдкреАрдЫреЗ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ?

        Foundry Agent Service рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХрд╛ рдЖрдпреЛрдЬрди рдХрд░рддрд╛ рд╣реИ:

        1. рдкрд┐рдЫрд▓реЗ рдкреНрд░рд╢реНрди рдХреА рддрд░рд╣, рдПрдЬреЗрдВрдЯ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЙрд╕рдХреЗ рдкрд╛рд╕ рдХреНрд╡реЗрд░реА рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ table schemas рд╣реИрдВред рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдпрд╣ рд╡рд░реНрддрдорд╛рди рджрд┐рдирд╛рдВрдХ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реНрдХреАрдорд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **get_multiple_table_schemas()** tools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
        2. рдПрдЬреЗрдВрдЯ рдлрд┐рд░ рдмрд┐рдХреНрд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **execute_sales_query** tool рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ
        3. рд╡рд╛рдкрд╕ рдХрд┐рдП рдЧрдП рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, LLM рдкрд╛рдИ рдЪрд╛рд░реНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП Python рдХреЛрдб рд▓рд┐рдЦрддрд╛ рд╣реИред
        4. рдЕрдВрдд рдореЗрдВ, Code Interpreter рдЪрд╛рд░реНрдЯ рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Python рдХреЛрдб рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рддрд╛ рд╣реИред

3. Code Interpreter рдХреЛ рдПрдХреНрд╢рди рдореЗрдВ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП Zava рдмрд┐рдХреНрд░реА рдбреЗрдЯрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд╢реНрди рдкреВрдЫрдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВред рдпрд╣рд╛рдВ рдХреБрдЫ рдлреЙрд▓реЛ-рдЕрдк рдкреНрд░рд╢реНрди рд╣реИрдВ рдЬрд┐рдиреНрд╣реЗрдВ рдЖрдк рдЖрдЬрд╝рдорд╛рдирд╛ рдЪрд╛рд╣ рд╕рдХрддреЗ рд╣реИрдВ:

    - ```рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХреМрди рд╕реЗ рдЙрддреНрдкрд╛рдж рдпрд╛ рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ рдмрд┐рдХреНрд░реА рдЪрд▓рд╛рддреЗ рд╣реИрдВред Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
    - ```рдПрдХ shock event (рдЬреИрд╕реЗ, рдПрдХ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ 20% рдмрд┐рдХреНрд░реА рдЧрд┐рд░рд╛рд╡рдЯ) рдХрд╛ global sales distribution рдкрд░ рдХреНрдпрд╛ рдкреНрд░рднрд╛рд╡ рд╣реЛрдЧрд╛? Grouped Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
        - рдлреЙрд▓реЛ рдЕрдк рдХрд░реЗрдВ ```рдпрджрд┐ shock event 50% рдерд╛ рддреЛ рдХреНрдпрд╛ рд╣реЛрдЧрд╛?```
    - ```рдХреМрди рд╕реЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдФрд╕рдд рд╕реЗ рдКрдкрд░ рдпрд╛ рдиреАрдЪреЗ рдмрд┐рдХреНрд░реА рд╣реИ? рдФрд╕рдд рд╕реЗ рд╡рд┐рдЪрд▓рди рдХреЗ рд╕рд╛рде Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
    - ```рдХреМрди рд╕реЗ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдФрд╕рдд рд╕реЗ рдКрдкрд░ рдпрд╛ рдиреАрдЪреЗ рдЫреВрдЯ рд╣реИ? рдФрд╕рдд рд╕реЗ рд╡рд┐рдЪрд▓рди рдХреЗ рд╕рд╛рде Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
    - ```confidence intervals рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП Monte Carlo simulation рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рднрд╡рд┐рд╖реНрдп рдХреА рдмрд┐рдХреНрд░реА рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВред vivid colors рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Confidence Bands рдХреЗ рд╕рд╛рде Line рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```

<!-- ## Agent App рдмрдВрдж рдХрд░рдирд╛

1. VS Code editor рдкрд░ рд╡рд╛рдкрд╕ рд╕реНрд╡рд┐рдЪ рдХрд░реЗрдВред
1. рдПрдЬреЗрдВрдЯ рдРрдк рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП <kbd>Shift + F5</kbd> рджрдмрд╛рдПрдВред -->

## Agent App рдХреЛ рдЪрд▓рддрд╛ рдЫреЛрдбрд╝реЗрдВ

рдПрдЬреЗрдВрдЯ рдРрдк рдХреЛ рдЪрд▓рддрд╛ рдЫреЛрдбрд╝реЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдЕрдЧрд▓реА рд▓реИрдм рдореЗрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдЬреЗрдВрдЯ рдХреЛ рдЕрдзрд┐рдХ рдЯреВрд▓реНрд╕ рдФрд░ рдХреНрд╖рдорддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░реЗрдВрдЧреЗред

*GitHub Copilot рдФрд░ GPT-4o рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рддред*
