## рдЖрдк рдХреНрдпрд╛ рд╕реАрдЦреЗрдВрдЧреЗ

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк рд╕реЗрд▓реНрд╕ рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдФрд░ рдкреНрд░рд╛рдХреГрддрд┐рдХ рднрд╛рд╖рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЪрд╛рд░реНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП Code Interpreter рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВрдЧреЗред

## рдкрд░рд┐рдЪрдп

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк Azure AI Agent рдХреЛ рджреЛ рдЯреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░реЗрдВрдЧреЗ:

- **Code Interpreter:** рдПрдЬреЗрдВрдЯ рдХреЛ рдбреЗрдЯрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдФрд░ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рд▓рд┐рдП Python рдХреЛрдб рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдФрд░ рдЪрд▓рд╛рдиреЗ рджреЗрддрд╛ рд╣реИред
- **MCP Server tools:** рдПрдЬреЗрдВрдЯ рдХреЛ MCP Tools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмрд╛рд╣рд░реА рдбреЗрдЯрд╛ рд╕реНрд░реЛрддреЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ PostgreSQL рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдбреЗрдЯрд╛ред

## рд▓реИрдм рдПрдХреНрд╕рд░рд╕рд╛рдЗрдЬрд╝

### Code Interpreter рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдирд╛

рдЗрд╕ рд▓реИрдм рдореЗрдВ, рдЖрдк Zava рдХреЗ рд░рд┐рдЯреЗрд▓ рд╕реЗрд▓реНрд╕ рдбреЗрдЯрд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП LLM рджреНрд╡рд╛рд░рд╛ рдЬреЗрдирд░реЗрдЯ рдХрд┐рдП рдЧрдП Python рдХреЛрдб рдХреЛ execute рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Code Interpreter рдХреЛ рд╕рдХреНрд╖рдо рдХрд░реЗрдВрдЧреЗред

=== "Python"

    1. `app.py` рдХреЛ **рдЦреЛрд▓реЗрдВ**ред
    2. `AgentManager` рдХреНрд▓рд╛рд╕ рдХреЗ `_setup_agent_tools` method рдореЗрдВ рдПрдЬреЗрдВрдЯ рдХреЗ toolset рдореЗрдВ Code Interpreter tool рдЬреЛрдбрд╝рдиреЗ рд╡рд╛рд▓реА рд▓рд╛рдЗрди рдХреЛ **Uncomment** рдХрд░реЗрдВред рдпрд╣ рд▓рд╛рдЗрди рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╢реБрд░реБрдЖрдд рдореЗрдВ `#` рдХреЗ рд╕рд╛рде commented out рд╣реИ:

        ```python
        # code_interpreter = CodeInterpreterTool()
        # self.toolset.add(code_interpreter)
        ```

    3. `app.py` рдлрд╛рдЗрд▓ рдореЗрдВ рдХреЛрдб рдХреА **рд╕рдореАрдХреНрд╖рд╛** рдХрд░реЗрдВред рдЖрдк рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ Code Interpreter рдФрд░ MCP Server tools рдХреЛ `AgentManager` рдХреНрд▓рд╛рд╕ рдХреЗ `_setup_agent_tools` method рдореЗрдВ рдПрдЬреЗрдВрдЯ рдХреЗ toolset рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИред

        ```python

        Uncommenting рдХреЗ рдмрд╛рдж, рдЖрдкрдХрд╛ рдХреЛрдб рдЗрд╕ рдкреНрд░рдХрд╛рд░ рджрд┐рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП:

        ```python
        class AgentManager:
            """Manages Azure AI Agent lifecycle and dependencies."""

            async def _setup_agent_tools(self) -> None:
                """Setup MCP tools and code interpreter."""

                # Enable the code interpreter tool
                code_interpreter = CodeInterpreterTool()
                self.toolset.add(code_interpreter)

                print("Setting up Agent tools...")
                ...
        ```

=== "C#"

    TBD

## Agent App рд╢реБрд░реВ рдХрд░рдирд╛

1. рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ:

    ```text
    Debug: Select and Start Debugging
    ```

2. VS Code Command Palette рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП <kbd>F1</kbd> рджрдмрд╛рдПрдВред
3. рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ Command Palette рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ рдФрд░ **Debug: Select and Start Debugging** рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВред
4. рд╕реВрдЪреА рд╕реЗ **ЁЯФБЁЯдЦDebug Compound: Agent and MCP (stdio)** рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВред рдпрд╣ рдПрдЬреЗрдВрдЯ рдРрдк рдФрд░ рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рд╢реБрд░реВ рдХрд░реЗрдЧрд╛ред

## Agent Web Chat Client рдЦреЛрд▓рдирд╛

1. рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ рдХреНрд▓рд┐рдкрдмреЛрд░реНрдб рдореЗрдВ рдХреЙрдкреА рдХрд░реЗрдВ:

    ```text
    Open Port in Browser
    ```

2. VS Code Command Palette рдЦреЛрд▓рдиреЗ рдХреЗ рд▓рд┐рдП <kbd>F1</kbd> рджрдмрд╛рдПрдВред
3. рдЯреЗрдХреНрд╕реНрдЯ рдХреЛ Command Palette рдореЗрдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ рдФрд░ **Open Port in Browser** рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВред
4. рд╕реВрдЪреА рд╕реЗ **8005** рд╕реЗрд▓реЗрдХреНрдЯ рдХрд░реЗрдВред рдпрд╣ рдЖрдкрдХреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдПрдЬреЗрдВрдЯ рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рдЦреЛрд▓реЗрдЧрд╛ред

### Agent рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░рдирд╛

рд╡реЗрдм рдЪреИрдЯ рдХреНрд▓рд╛рдЗрдВрдЯ рд╕реЗ, рдЖрдк рдПрдЬреЗрдВрдЯ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдПрдЬреЗрдВрдЯ рдХреЛ Zava рдХреЗ рд╕реЗрд▓реНрд╕ рдбреЗрдЯрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд╢реНрдиреЛрдВ рдХреЗ рдЙрддреНрддрд░ рджреЗрдиреЗ рдФрд░ Code Interpreter рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

1. рдкреНрд░реЛрдбрдХреНрдЯ рд╕реЗрд▓реНрд╕ рдПрдирд╛рд▓рд┐рд╕рд┐рд╕ред рдЪреИрдЯ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╢реНрди рдХреЛ рдХреЙрдкреА рдФрд░ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ:

    ```text
    рдкрд┐рдЫрд▓реА рддрд┐рдорд╛рд╣реА рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░ рджреНрд╡рд╛рд░рд╛ revenue рдХреЗ рд╣рд┐рд╕рд╛рдм рд╕реЗ рдЯреЙрдк 10 рдкреНрд░реЛрдбрдХреНрдЯреНрд╕ рджрд┐рдЦрд╛рдПрдВ
    ```

    рдХреБрдЫ рджреЗрд░ рдмрд╛рдж, рдПрдЬреЗрдВрдЯ рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдЯреЛрд░ рдХреЗ рд▓рд┐рдП revenue рдХреЗ рд╣рд┐рд╕рд╛рдм рд╕реЗ рдЯреЙрдк 10 рдкреНрд░реЛрдбрдХреНрдЯреНрд╕ рджрд┐рдЦрд╛рдиреЗ рд╡рд╛рд▓реА рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд╕рд╛рде рдЬрд╡рд╛рдм рджреЗрдЧрд╛ред

    !!! info
        рдПрдЬреЗрдВрдЯ рдбреЗрдЯрд╛ fetch рдХрд░рдиреЗ рдФрд░ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП LLM рддреАрди MCP Server tools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ:

           1. **get_current_utc_date()**: рд╡рд░реНрддрдорд╛рди date рдФрд░ time рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдЬреЗрдВрдЯ рд╡рд░реНрддрдорд╛рди рддрд╛рд░реАрдЦ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдкрд┐рдЫрд▓реА рддрд┐рдорд╛рд╣реА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд╕рдХреЗред
           2. **get_multiple_table_schemas()**: рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ tables рдХреЗ schemas рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ LLM рдХреЛ valid SQL рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИред
           3. **execute_sales_query**: PostgreSQL рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдкрд┐рдЫрд▓реА рддрд┐рдорд╛рд╣реА рдХреЗ рд▓рд┐рдП revenue рдХреЗ рд╣рд┐рд╕рд╛рдм рд╕реЗ рдЯреЙрдк 10 рдкреНрд░реЛрдбрдХреНрдЯреНрд╕ fetch рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП SQL рдХреНрд╡реЗрд░реА execute рдХрд░рддрд╛ рд╣реИред

2. рдкрд╛рдИ рдЪрд╛рд░реНрдЯ рдЬреЗрдирд░реЗрдЯ рдХрд░рдирд╛ред рдЪреИрдЯ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рд╢реНрди рдХреЛ рдХреЙрдкреА рдФрд░ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ:

    ```text
    рдЗрд╕ рд╡рд┐рддреНрддреАрдп рд╡рд░реНрд╖ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░ рджреНрд╡рд╛рд░рд╛ рд╕реЗрд▓реНрд╕ рдХреЛ рдкрд╛рдИ рдЪрд╛рд░реНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВ
    ```

    рдПрдЬреЗрдВрдЯ рд╡рд░реНрддрдорд╛рди рд╡рд┐рддреНрддреАрдп рд╡рд░реНрд╖ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░ рджреНрд╡рд╛рд░рд╛ рд╕реЗрд▓реНрд╕ рд╡рд┐рддрд░рдг рджрд┐рдЦрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкрд╛рдИ рдЪрд╛рд░реНрдЯ рдХреЗ рд╕рд╛рде рдЬрд╡рд╛рдм рджреЗрдЧрд╛ред

    !!! info
        рдпрд╣ рдЬрд╛рджреВ рдЬреИрд╕рд╛ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрджреЗ рдХреЗ рдкреАрдЫреЗ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ?

        Foundry Agent Service рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░рдгреЛрдВ рдХрд╛ orchestration рдХрд░рддреА рд╣реИ:

        1. рдкрд┐рдЫрд▓реЗ рдкреНрд░рд╢реНрди рдХреА рддрд░рд╣, рдПрдЬреЗрдВрдЯ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдХреНрдпрд╛ рдЙрд╕рдХреЗ рдкрд╛рд╕ рдХреНрд╡реЗрд░реА рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ table schemas рд╣реИрдВред рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рдпрд╣ рд╡рд░реНрддрдорд╛рди date рдФрд░ database schema рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **get_multiple_table_schemas()** tools рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
        2. рдПрдЬреЗрдВрдЯ рдлрд┐рд░ рд╕реЗрд▓реНрд╕ fetch рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП **execute_sales_query** tool рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред
        3. returned data рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, LLM Pie Chart рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП Python рдХреЛрдб рд▓рд┐рдЦрддрд╛ рд╣реИред
        4. рдЕрдВрдд рдореЗрдВ, Code Interpreter рдЪрд╛рд░реНрдЯ рдЬреЗрдирд░реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП Python рдХреЛрдб рдХреЛ execute рдХрд░рддрд╛ рд╣реИред

3. Code Interpreter рдХреЛ action рдореЗрдВ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП Zava рд╕реЗрд▓реНрд╕ рдбреЗрдЯрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреНрд░рд╢реНрди рдкреВрдЫрдирд╛ рдЬрд╛рд░реА рд░рдЦреЗрдВред рдпрд╣рд╛рдВ рдХреБрдЫ follow-up рдкреНрд░рд╢реНрди рд╣реИрдВ рдЬреЛ рдЖрдк рдХреЛрд╢рд┐рд╢ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

    - ```рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ рдХрд┐ рдХреМрди рд╕реЗ рдкреНрд░реЛрдбрдХреНрдЯреНрд╕ рдпрд╛ categories рд╕реЗрд▓реНрд╕ drive рдХрд░рддреЗ рд╣реИрдВред Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
    - ```рдПрдХ shock event (рдЬреИрд╕реЗ, рдПрдХ region рдореЗрдВ 20% рд╕реЗрд▓реНрд╕ drop) рдХрд╛ global рд╕реЗрд▓реНрд╕ distribution рдкрд░ рдХреНрдпрд╛ рдкреНрд░рднрд╛рд╡ рд╣реЛрдЧрд╛? Grouped Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
        - Follow up рдХреЗ рд╕рд╛рде ```рдпрджрд┐ shock event 50% рдерд╛ рддреЛ рдХреНрдпрд╛ рд╣реЛрдЧрд╛?```
    - ```рдХреМрди рд╕реЗ regions рдореЗрдВ average рд╕реЗ рдКрдкрд░ рдпрд╛ рдиреАрдЪреЗ рд╕реЗрд▓реНрд╕ рд╣реИрдВ? Deviation from Average рдХреЗ рд╕рд╛рде Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
    - ```рдХреМрди рд╕реЗ regions рдореЗрдВ average рд╕реЗ рдКрдкрд░ рдпрд╛ рдиреАрдЪреЗ discounts рд╣реИрдВ? Deviation from Average рдХреЗ рд╕рд╛рде Bar Chart рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```
    - ```Confidence intervals рдХрд╛ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП Monte Carlo simulation рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ region рджреНрд╡рд╛рд░рд╛ future рд╕реЗрд▓реНрд╕ рдХрд╛ simulation рдХрд░реЗрдВред vivid colors рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Confidence Bands рдХреЗ рд╕рд╛рде Line рдХреЗ рд░реВрдк рдореЗрдВ рджрд┐рдЦрд╛рдПрдВред```

<!-- ## Stop the Agent App

1. Switch back to the VS Code editor.
1. Press <kbd>Shift + F5</kbd> to stop the agent app. -->

## Agent App рдХреЛ рдЪрд╛рд▓реВ рд░рдЦрдирд╛

Agent app рдХреЛ рдЪрд╛рд▓реВ рд░рдЦреЗрдВ рдХреНрдпреЛрдВрдХрд┐ рдЖрдк рдЗрд╕реЗ рдЕрдЧрд▓реА рд▓реИрдм рдореЗрдВ рдЕрдзрд┐рдХ рдЯреВрд▓реНрд╕ рдФрд░ рдХреНрд╖рдорддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рдПрдЬреЗрдВрдЯ рдХреЛ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред

*GitHub Copilot рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдиреБрд╡рд╛рджрд┐рддред*
