## 学習内容

このラボでは、財務年度が7月1日に開始するというルールを含めるようにエージェント指示を確認および更新します。これは、エージェントが売上データを正しく解釈し分析するために重要です。

## はじめに

エージェント指示の目的は、ユーザーとのやり取り方法、使用可能なツール、さまざまなタイプのクエリに対する応答方法を含む、エージェントの動作を定義することです。このラボでは、既存のエージェント指示を確認し、エージェントが財務年度を正しく解釈するための小さな更新を行います。

## ラボ演習

### エージェント指示を開く

1. VS Code エクスプローラーから、`shared/instructions` フォルダーに移動します。
2. `mcp_server_tools_with_code_interpreter.txt` ファイルを**開きます**。

### エージェント指示を確認

指示がエージェントアプリの動作をどのように定義しているかを確認します：

!!! tip "VS Code で、Alt + Z（Windows/Linux）または Option + Z（Mac）を押して折り返し表示モードを有効にすると、指示が読みやすくなります。"

- **主要役割:** Zava（ワシントン州のDIY小売業者）の営業エージェントとして、絵文字を使用しつつプロフェッショナルでフレンドリーなトーンで、推測や未検証のコンテンツは使用しない。
- **データベースルール:** 常に最初にスキーマを取得（get_multiple_table_schemas()）し、正確なテーブル/カラム名を使用してすべてのSELECTクエリに必須のLIMIT 20を適用。
- **可視化:** 「chart」、「graph」、「visualize」、「show as [type]」などのトリガーでチャートが明示的に要求された場合のみ作成し、サンドボックスからダウンロードしたPNG形式でマークダウン画像パスは使用しない。
- **応答:** デフォルトはMarkdownテーブルで多言語サポート付き、要求に応じてCSVも利用可能。
- **安全性:** Zavaの売上データの範囲内にとどまり、範囲外/不明確なクエリには正確な応答で、敵対的ユーザーをITにリダイレクト。
- **主要制約:** でっち上げのデータは使用せず、ツールのみを使用し、20行制限とPNG画像を常に適用。

### エージェント指示を更新

以下のテキストをコピーして、未検証のコンテンツを生成しない、または推測を行わないという規則の直後に貼り付けます：

!!! tip "右側のコピーアイコンをクリックして、テキストをクリップボードにコピーします。"

```markdown
- **財務年度（FY）は1月1日開始**（Q1=1月–3月、Q2=4月–6月、Q3=7月–9月、Q4=10月–12月）。
```

更新された指示は次のようになります：

```markdown
- **検証済み**ツール出力のみを使用；データや推測を**決して**でっち上げない。
- **財務年度（FY）は1月1日開始**（Q1=1月–3月、Q2=4月–6月、Q3=7月–9月、Q4=10月–12月）。
```

*GitHub Copilot を使用して翻訳されました。*
